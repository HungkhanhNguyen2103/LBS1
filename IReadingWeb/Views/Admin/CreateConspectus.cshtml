@{
    Layout = "~/Views/Admin/_AdminLayout.cshtml";
}
@model Conspectus
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
@functions {
    public string GetAntiXsrfRequestToken()
    {
        return Xsrf.GetAndStoreTokens(Context).RequestToken;
    }
}
@* <button type="button" onclick="document.getElementById('formModal').reset();" class="btn btn-success" data-toggle="modal" data-target="#exampleModalPost">
    Tạo mới
</button> *@
<style>
    .form-control {
        margin-left: 0px !important;
    }

    #loading {
        position: absolute;
        top: 50%;
        right: 50%;
    }
</style>
<div class="row">
    <form method="post" asp-action="UpdateConspectus">
        <div class="col-12">
            <div class="card my-4">
                <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
                    <div class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3">
                        <h6 class="text-white text-capitalize ps-3">Thêm đại cương</h6>
                    </div>
                </div>
                <div class="card-body px-0 pb-2">
                    <div class="table-responsive p-0 m-4 mt-0">
                        <div style="display:block" class="form-group input-group input-group-outline mt-4">
                            <label for="Name">Tên đại cương</label>
                            <input style="width:100%" type="text" asp-for="Name" class="form-control" autofocus>
                        </div>
                        <div style="display:block" class="input-group input-group-outline mt-4">
                            <label for="Summary">Nội dung đại cương</label>
                            <textarea style="width:100%" asp-for="Content" type="text" class="form-control" rows="8"></textarea>
                        </div>
                        <button type="submit" class="btn btn-success mt-4">Lưu thông tin</button>
                        <button type="button" onclick="window.location.href='/Admin/ListConspectus'" class="btn btn-secondary mt-4 ml-2">Quay lại</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<script type="text/javascript">
    // document.getElementById('CreatBookId').classList.add('active');
    //document.getElementById('loading').classList.add('d-none');
    // function changeImageFile(input) {
    //     if (input.files && input.files[0]) {

    //         var fileSize = input.files[0].size / 1024 / 1024;

    //         if (fileSize > 2) {
    //             notyf.error("Kích thước ảnh quá lớn! Vui lòng chọn ảnh nhỏ hơn 2MB");
    //             //$('#image-post').val('https://i.imgur.com/KHD58yX.png');
    //             return;
    //         }


    //         var reader = new FileReader();
    //         reader.onload = function (e) {
    //             $(input).next('img').removeClass('d-none');
    //             $(input).next('img').attr('src', e.target.result);
    //             $('#image-post').val(e.target.result);
    //         }

    //         reader.readAsDataURL(input.files[0]);
    //     }
    // }

    // function GeneratePoster() {
    //     $('#loading').removeClass('d-none');
    //     //var summary;
    //     var input = $('#Name').val();
    //     var formData = new FormData();
    //     formData.append('input', input);
    //     $.ajax(
    //         {
    //             url: `/Admin/GeneratePoster`,
    //             type: "POST",
    //             headers:
    //             {
    //                 "RequestVerificationToken": '@GetAntiXsrfRequestToken()'
    //             },
    //             data: formData,
    //             //dataType: "json",
    //             async: true,
    //             processData: false,
    //             contentType: false,
    //             success: function (data) {
    //                 $('#loading').addClass('d-none');
    //                 console.log(data);
    //                 if (data.isSussess == false) {
    //                     notyf.error(data.message);
    //                     return;
    //                 }
    //                 $('#img-post-id').attr('src', data.data);
    //                 $('#image-post').val(data.data);
    //             }
    //         }
    //     );
    // }

</script>